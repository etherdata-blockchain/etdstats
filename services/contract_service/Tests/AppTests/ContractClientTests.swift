@testable import App
import XCTVapor

final class ContractClientTests: XCTestCase {
    func testVerifyByteCode() throws {
        let bytecode1 = "0x6080604052348015600f57600080fd5b506004361060325760003560e01c8063428706be146037578063ecbac7cf14604f575b600080fd5b604d60048036038101906049919060af565b6069565b005b60556073565b6040516060919060e4565b60405180910390f35b8060008190555050565b60005481565b600080fd5b6000819050919050565b608f81607e565b8114609957600080fd5b50565b60008135905060a9816088565b92915050565b60006020828403121560c25760c16079565b5b600060ce84828501609c565b91505092915050565b60de81607e565b82525050565b600060208201905060f7600083018460d7565b9291505056fea2646970667358221220a93ce8c0a777b3e5592277977f0137b446524200692a4aace653e9d535a6523164736f6c63430008090033"
        let bytecode2 = "0x6080604052348015600f57600080fd5b506004361060325760003560e01c8063428706be146037578063ecbac7cf14604f575b600080fd5b604d60048036038101906049919060af565b6069565b005b60556073565b6040516060919060e4565b60405180910390f35b8060008190555050565b60005481565b600080fd5b6000819050919050565b608f81607e565b8114609957600080fd5b50565b60008135905060a9816088565b92915050565b60006020828403121560c25760c16079565b5b600060ce84828501609c565b91505092915050565b60de81607e565b82525050565b600060208201905060f7600083018460d7565b9291505056fea2646970667358221220a8a8d517379e5c1246548af62af5f0736fc1c6bdf2facd9b17a9d35bb6400e5d64736f6c63430008090033"
        
        XCTAssertNotEqual(bytecode1, bytecode2)
        let client = ContractClient()
        let verificationResult = client.verifyByteCode(bytecode1: bytecode1, bytecode2: bytecode2)
        XCTAssertTrue(verificationResult)
    }
    
    func testVerifyByteCode2() throws {
        let bytecode1 = "0x6080604052348015600f57600080fd5b506004361060325760003560e01c8063428706be146037578063ecbac7cf14604f575b600080fd5b604d60048036038101906049919060af565b6069565b005b60556073565b6040516060919060e4565b60405180910390f35b8060008190555050565b60005481565b600080fd5b6000819050919050565b608f81607e565b8114609957600080fd5b50565b60008135905060a9816088565b92915050565b60006020828403121560c25760c16079565b5b600060ce84828501609c565b91505092915050565b60de81607e565b82525050565b600060208201905060f7600083018460d7565b9291505056fea2646970667358221220a93ce8c0a777b3e5592277977f0137b446524200692a4aace653e9d535a6523164736f6c63430008090033"
        
        let client = ContractClient()
        let verificationResult = client.verifyByteCode(bytecode1: bytecode1, bytecode2: bytecode1)
        XCTAssertTrue(verificationResult)
    }
    
}


